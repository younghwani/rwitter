{"version":3,"sources":["fbase.js","components/AuthForm.js","routes/Auth.js","components/Rweet.js","components/RweetFactory.js","routes/Home.js","components/Navigation.js","routes/Profile.js","components/Router.js","components/App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","authService","auth","dbService","firestore","storageService","storage","AuthForm","useState","email","setEmail","password","setPassword","newAccount","setNewAccount","error","setError","onChange","event","target","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","data","signInWithEmailAndPassword","console","log","message","className","type","placeholder","required","onClick","prev","Auth","onSocialClick","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","icon","faTwitter","color","size","style","marginBottom","faGoogle","faGithub","Rweet","rweetObj","isOwner","editing","setEditing","text","newRweet","setNewRweet","onDeleteClick","window","confirm","doc","id","delete","refFromURL","attachmentUrl","toggleEditing","update","autoFocus","src","class","faTrash","faPencilAlt","RweetFactory","userObj","rweet","setRweet","attachment","setAttachment","attachmentRef","ref","child","uid","uuidv4","putString","response","getDownloadURL","createdAt","Date","now","creatorId","collection","add","maxLength","for","faPlus","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","result","currentTarget","readAsDataURL","opacity","background","faTimes","Home","rweets","setRweets","useEffect","onSnapshot","snapshot","rweetArray","docs","map","marginTop","Navigation","display","justifyContent","to","marginRight","marginLeft","flexDirection","alignItems","fontSize","faUser","displayName","refreshUser","newDisplayName","setNewDisplayName","history","useHistory","getMyRweets","where","orderBy","get","updateProfile","photoURL","signOut","push","AppRouter","isLoggedIn","maxWidth","width","margin","exact","path","Profile","App","init","setInit","setUserObj","onAuthStateChanged","user","args","currentUser","Boolean","getFullYear","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d498b0c6.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n\tapiKey: process.env.REACT_APP_API_KEY,\n\tauthDomain: process.env.REACT_APP_AUTH_DOMAIN,\n\tprojectId: process.env.REACT_APP_PROJECT_ID,\n\tstorageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n\tmessagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\n\tappId: process.env.REACT_APP_APP_ID,\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const firebaseInstance = firebase;\n\nexport const authService = firebase.auth();\n\nexport const dbService = firebase.firestore();\n\nexport const storageService = firebase.storage();\n","import { authService } from \"fbase\";\nimport React, { useState } from \"react\";\n\nconst AuthForm = () => {\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [newAccount, setNewAccount] = useState(true);\n\tconst [error, setError] = useState(\"\");\n\tconst toggleAccount = () => setNewAccount((prev) => !prev);\n\tconst onChange = (event) => {\n\t\tconst {\n\t\t\ttarget: { name, value },\n\t\t} = event;\n\t\tif (name === \"email\") {\n\t\t\tsetEmail(value);\n\t\t} else if (name === \"password\") {\n\t\t\tsetPassword(value);\n\t\t}\n\t};\n\tconst onSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tlet data;\n\t\t\tif (newAccount) {\n\t\t\t\tdata = await authService.createUserWithEmailAndPassword(\n\t\t\t\t\temail,\n\t\t\t\t\tpassword\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tdata = await authService.signInWithEmailAndPassword(\n\t\t\t\t\temail,\n\t\t\t\t\tpassword\n\t\t\t\t);\n\t\t\t}\n\t\t\tconsole.log(data);\n\t\t} catch (error) {\n\t\t\tsetError(error.message);\n\t\t}\n\t};\n\treturn (\n\t\t<>\n\t\t\t<form onSubmit={onSubmit} className=\"container\">\n\t\t\t\t<input\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\trequired\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tclassName=\"authInput\"\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\trequired\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tclassName=\"authInput\"\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tclassName=\"authInput authSubmit\"\n\t\t\t\t\tvalue={newAccount ? \"Create Account\" : \"Sign In\"}\n\t\t\t\t/>\n\t\t\t\t{error && <span className=\"authError\">{error}</span>}\n\t\t\t</form>\n\t\t\t<span onClick={toggleAccount} className=\"authSwitch\">\n\t\t\t\t{newAccount ? \"Sign in\" : \"Create Account\"}\n\t\t\t</span>\n\t\t</>\n\t);\n};\n\nexport default AuthForm;\n","import AuthForm from \"components/AuthForm\";\nimport { authService, firebaseInstance } from \"fbase\";\nimport React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n\tfaTwitter,\n\tfaGoogle,\n\tfaGithub,\n\tfaGit,\n} from \"@fortawesome/free-brands-svg-icons\";\n\nconst Auth = () => {\n\tconst onSocialClick = async (event) => {\n\t\tconst {\n\t\t\ttarget: { name },\n\t\t} = event;\n\t\tlet provider;\n\t\tif (name === \"google\") {\n\t\t\tprovider = new firebaseInstance.auth.GoogleAuthProvider();\n\t\t} else if (name === \"github\") {\n\t\t\tprovider = new firebaseInstance.auth.GithubAuthProvider();\n\t\t}\n\t\tawait authService.signInWithPopup(provider);\n\t};\n\n\treturn (\n\t\t<div className=\"authContainer\">\n\t\t\t<FontAwesomeIcon\n\t\t\t\ticon={faTwitter}\n\t\t\t\tcolor={\"#04AAFF\"}\n\t\t\t\tsize=\"3x\"\n\t\t\t\tstyle={{ marginBottom: 30 }}\n\t\t\t/>\n\t\t\t<AuthForm />\n\t\t\t<div className=\"authBtns\">\n\t\t\t\t<button\n\t\t\t\t\tonClick={onSocialClick}\n\t\t\t\t\tname=\"google\"\n\t\t\t\t\tclassName=\"authBtn\"\n\t\t\t\t>\n\t\t\t\t\tContinue with Google\n\t\t\t\t\t<FontAwesomeIcon icon={faGoogle} />\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={onSocialClick}\n\t\t\t\t\tname=\"github\"\n\t\t\t\t\tclassName=\"authBtn\"\n\t\t\t\t>\n\t\t\t\t\tContinue with Github\n\t\t\t\t\t<FontAwesomeIcon icon={faGithub} />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Auth;\n","import { dbService, storageService } from \"fbase\";\nimport React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTrash, faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Rweet = ({ rweetObj, isOwner }) => {\n\tconst [editing, setEditing] = useState(false);\n\tconst [newRweet, setNewRweet] = useState(rweetObj.text);\n\tconst onDeleteClick = async () => {\n\t\tconst ok = window.confirm(\n\t\t\t\"Are you sure you want to delete this rweet?\"\n\t\t);\n\t\tif (ok) {\n\t\t\tawait dbService.doc(`rweets/${rweetObj.id}`).delete();\n\t\t\tawait storageService.refFromURL(rweetObj.attachmentUrl).delete();\n\t\t}\n\t};\n\tconst toggleEditing = () => setEditing((prev) => !prev);\n\tconst onSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\tawait dbService.doc(`rweets/${rweetObj.id}`).update({\n\t\t\ttext: newRweet,\n\t\t});\n\t\tsetEditing(false);\n\t};\n\tconst onChange = (event) => {\n\t\tconst {\n\t\t\ttarget: { value },\n\t\t} = event;\n\t\tsetNewRweet(value);\n\t};\n\treturn (\n\t\t<div className=\"rweet\">\n\t\t\t{editing ? (\n\t\t\t\t<>\n\t\t\t\t\t<form onSubmit={onSubmit} className=\"container rweetEdit\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Edit your rweet\"\n\t\t\t\t\t\t\tvalue={newRweet}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tclassName=\"formInput\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tvalue=\"Update Rweet\"\n\t\t\t\t\t\t\tclassName=\"formBtn\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</form>\n\t\t\t\t\t<span onClick={toggleEditing} className=\"formBtn cancelBtn\">\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</span>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<h4>{rweetObj.text}</h4>\n\t\t\t\t\t{rweetObj.attachmentUrl && (\n\t\t\t\t\t\t<img src={rweetObj.attachmentUrl} />\n\t\t\t\t\t)}\n\t\t\t\t\t{isOwner && (\n\t\t\t\t\t\t<div class=\"rweet__actions\">\n\t\t\t\t\t\t\t<span onClick={onDeleteClick}>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTrash} />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span onClick={toggleEditing}>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faPencilAlt} />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Rweet;\n","import { dbService, storageService } from \"fbase\";\nimport React, { useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus, faTimes } from \"@fortawesome/free-solid-svg-icons\";\n\nconst RweetFactory = ({ userObj }) => {\n\tconst [rweet, setRweet] = useState(\"\");\n\tconst [attachment, setAttachment] = useState(\"\");\n\tconst onSubmit = async (event) => {\n\t\tif (rweet === \"\") {\n\t\t\treturn;\n\t\t}\n\t\tevent.preventDefault();\n\t\tlet attachmentUrl = \"\";\n\t\tif (attachment !== \"\") {\n\t\t\tconst attachmentRef = storageService\n\t\t\t\t.ref()\n\t\t\t\t.child(`${userObj.uid}/${uuidv4()}`);\n\t\t\tconst response = await attachmentRef.putString(\n\t\t\t\tattachment,\n\t\t\t\t\"data_url\"\n\t\t\t);\n\t\t\tattachmentUrl = await response.ref.getDownloadURL();\n\t\t}\n\t\tconst rweetObj = {\n\t\t\ttext: rweet,\n\t\t\tcreatedAt: Date.now(),\n\t\t\tcreatorId: userObj.uid,\n\t\t\tattachmentUrl,\n\t\t};\n\t\tawait dbService.collection(\"rweets\").add(rweetObj);\n\t\tsetRweet(\"\");\n\t\tsetAttachment(\"\");\n\t};\n\tconst onChange = (event) => {\n\t\tconst {\n\t\t\ttarget: { value },\n\t\t} = event;\n\t\tsetRweet(value);\n\t};\n\tconst onFileChange = (event) => {\n\t\tconst {\n\t\t\ttarget: { files },\n\t\t} = event;\n\t\tconst theFile = files[0];\n\t\tconst reader = new FileReader();\n\t\treader.onloadend = (finishedEvent) => {\n\t\t\tconst {\n\t\t\t\tcurrentTarget: { result },\n\t\t\t} = finishedEvent;\n\t\t\tsetAttachment(result);\n\t\t};\n\t\treader.readAsDataURL(theFile);\n\t};\n\tconst onClearAttachment = () => setAttachment(\"\");\n\treturn (\n\t\t<form onSubmit={onSubmit} className=\"factoryForm\">\n\t\t\t<div className=\"factoryInput__container\">\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"factoryInput__input\"\n\t\t\t\t\tvalue={rweet}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"What's on yout mind?\"\n\t\t\t\t\tmaxLength={120}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvalue=\"&rarr;\"\n\t\t\t\t\tclassName=\"factoryInput__arrow\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<label for=\"attach-file\" className=\"factoryInput__label\">\n\t\t\t\t<span>Add Photos</span>\n\t\t\t\t<FontAwesomeIcon icon={faPlus} />\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\tid=\"attach-file\"\n\t\t\t\ttype=\"file\"\n\t\t\t\taccept=\"image/*\"\n\t\t\t\tonChange={onFileChange}\n\t\t\t\tstyle={{ opacity: 0 }}\n\t\t\t/>\n\t\t\t{attachment && (\n\t\t\t\t<div className=\"factoryForm__attachment\">\n\t\t\t\t\t<img src={attachment} style={{ background: attachment }} />\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"factoryForm__clear\"\n\t\t\t\t\t\tonClick={onClearAttachment}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>Remove</span>\n\t\t\t\t\t\t<FontAwesomeIcon icon={faTimes} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</form>\n\t);\n};\n\nexport default RweetFactory;\n","import Rweet from \"components/Rweet\";\nimport { dbService } from \"fbase\";\nimport React, { useEffect, useState } from \"react\";\nimport RweetFactory from \"components/RweetFactory\";\n\nconst Home = ({ userObj }) => {\n\tconst [rweets, setRweets] = useState([]);\n\tuseEffect(() => {\n\t\tdbService.collection(\"rweets\").onSnapshot((snapshot) => {\n\t\t\tconst rweetArray = snapshot.docs.map((doc) => ({\n\t\t\t\tid: doc.id,\n\t\t\t\t...doc.data(),\n\t\t\t}));\n\t\t\tsetRweets(rweetArray);\n\t\t});\n\t}, []);\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<RweetFactory userObj={userObj} />\n\t\t\t<div style={{ marginTop: 30 }}>\n\t\t\t\t{rweets.map((rweet) => (\n\t\t\t\t\t<Rweet\n\t\t\t\t\t\tkey={rweet.id}\n\t\t\t\t\t\trweetObj={rweet}\n\t\t\t\t\t\tisOwner={rweet.creatorId === userObj.uid}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Home;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Navigation = ({ userObj }) => (\n\t<nav>\n\t\t<ul\n\t\t\tstyle={{ display: \"flex\", justifyContent: \"center\", marginTop: 50 }}\n\t\t>\n\t\t\t<li>\n\t\t\t\t<Link to=\"/\" style={{ marginRight: 10 }}>\n\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\ticon={faTwitter}\n\t\t\t\t\t\tcolor={\"#04AAFF\"}\n\t\t\t\t\t\tsize=\"2x\"\n\t\t\t\t\t/>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<Link\n\t\t\t\t\tto=\"/profile\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmarginLeft: 10,\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\tfontSize: 12,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\ticon={faUser}\n\t\t\t\t\t\tcolor={\"#04AAFF\"}\n\t\t\t\t\t\tsize=\"2x\"\n\t\t\t\t\t/>\n\t\t\t\t\t<span style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{userObj.displayName\n\t\t\t\t\t\t\t? `${userObj.displayName}의 Profile`\n\t\t\t\t\t\t\t: \"Profile\"}\n\t\t\t\t\t</span>\n\t\t\t\t</Link>\n\t\t\t</li>\n\t\t</ul>\n\t</nav>\n);\nexport default Navigation;\n","import { authService, dbService } from \"fbase\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\n\nexport default ({ refreshUser, userObj }) => {\n\tconst [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\n\tconst history = useHistory();\n\tconst onLogOutClick = () => {\n\t\tauthService.signOut();\n\t\thistory.push(\"/\");\n\t};\n\t//filtering\n\tconst getMyRweets = async () => {\n\t\tconst rweets = await dbService\n\t\t\t.collection(\"rweets\")\n\t\t\t.where(\"creatorId\", \"==\", userObj.uid)\n\t\t\t.orderBy(\"createdAt\")\n\t\t\t.get();\n\t\t//console.log(rweets.docs.map((doc) => doc.data()));\n\t};\n\tuseEffect(() => {\n\t\tgetMyRweets();\n\t}, []);\n\tconst onChange = (event) => {\n\t\tconst {\n\t\t\ttarget: { value },\n\t\t} = event;\n\t\tsetNewDisplayName(value);\n\t};\n\tconst onSubmit = async (event) => {\n\t\tevent.preventDefault();\n\t\tif (userObj.displayName !== newDisplayName) {\n\t\t\tawait userObj.updateProfile({\n\t\t\t\tdisplayName: newDisplayName,\n\t\t\t});\n\t\t\trefreshUser();\n\t\t}\n\t};\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"profilePhoto\">\n\t\t\t\t{userObj.photoURL && (\n\t\t\t\t\t<img src={userObj.photoURL}/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<form onSubmit={onSubmit} className=\"profileForm\">\n\t\t\t\t<input\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tautoFocus\n\t\t\t\t\tplaceholder=\"Display name\"\n\t\t\t\t\tvalue={newDisplayName}\n\t\t\t\t\tclassName=\"formInput\"\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvalue=\"Update Profile\"\n\t\t\t\t\tclassName=\"formBtn\"\n\t\t\t\t\tstyle={{ marginTop: 10 }}\n\t\t\t\t/>\n\t\t\t</form>\n\t\t\t<span className=\"formBtn cancelBtn logOut\" onClick={onLogOutClick}>\n\t\t\t\tLog Out\n\t\t\t</span>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Auth from \"routes/Auth\";\nimport Home from \"routes/Home\";\nimport Navigation from \"components/Navigation\";\nimport Profile from \"routes/Profile\";\n\nconst AppRouter = ({ refreshUser, isLoggedIn, userObj }) => {\n\treturn (\n\t\t<Router>\n\t\t\t{isLoggedIn && <Navigation userObj={userObj} />}\n\t\t\t<Switch>\n\t\t\t\t{isLoggedIn ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmaxWidth: 890,\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\tmargin: \"0 auto\",\n\t\t\t\t\t\t\tmarginTop: 80,\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t<Home userObj={userObj} />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route exact path=\"/profile\">\n\t\t\t\t\t\t\t<Profile\n\t\t\t\t\t\t\t\tuserObj={userObj}\n\t\t\t\t\t\t\t\trefreshUser={refreshUser}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t<Auth />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n};\n\nexport default AppRouter;\n","import React, { useEffect, useState } from \"react\";\nimport AppRouter from \"components/Router\";\nimport { authService } from \"fbase\";\n\nfunction App() {\n\tconst [init, setInit] = useState(false);\n\tconst [userObj, setUserObj] = useState(null);\n\tuseEffect(() => {\n\t\tauthService.onAuthStateChanged((user) => {\n\t\t\tif (user) {\n\t\t\t\t//방법1. userObj에서 사용할 요소만 선택함.(object가 무거우면 react가 re-랜더링 요소를 찾는 것 힘들어함.)\n\t\t\t\tsetUserObj({\n\t\t\t\t\tdisplayName: user.displayName,\n\t\t\t\t\tuid: user.uid,\n\t\t\t\t\tupdateProfile: (args) => user.updateProfile(args),\n\t\t\t\t\tphotoURL: user.photoURL,\n\t\t\t\t});\n\t\t\t\t//방법2. 깊은 복사, 얕은 복사 이용 (profile을 2번 이상 연속 update 시 error)\n\t\t\t\t//setUserObj(user);\n\t\t\t} else {\n\t\t\t\tsetUserObj(null);\n\t\t\t}\n\t\t\tsetInit(true);\n\t\t});\n\t}, []);\n\tconst refreshUser = () => {\n\t\t//방법1\n\t\tconst user = authService.currentUser;\n\t\tsetUserObj({\n\t\t\tdisplayName: user.displayName,\n\t\t\tuid: user.uid,\n\t\t\tupdateProfile: (args) => user.updateProfile(args),\n\t\t\tphotoURL: user.photoURL,\n\t\t});\n\t\t//방법2\n\t\t//setUserObj({ ...authService.currentUser });\n\t};\n\treturn (\n\t\t<>\n\t\t\t{init ? (\n\t\t\t\t<AppRouter\n\t\t\t\t\trefreshUser={refreshUser}\n\t\t\t\t\tisLoggedIn={Boolean(userObj)}\n\t\t\t\t\tuserObj={userObj}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t\"Initializing...\"\n\t\t\t)}\n\t\t\t<footer>&copy; {new Date().getFullYear()} Rwitter</footer>\n\t\t</>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"components/App\";\nimport \"./styles.css\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}